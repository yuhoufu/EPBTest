<?xml version="1.0" encoding="utf-8"?>

<TestConfig>
	<Basic>
		<TestName>EPB_Fatigue</TestName>
		<TestTarget>10</TestTarget>
		<!-- 周期次数 -->
		<TestCycle>10</TestCycle>
		<!-- 每周期 Hz，例：10 表示 100ms -->
		<StoreDir>D:\EPB_Data</StoreDir>
	</Basic>

	<Timer>
		<OverrunPolicy>RunToCompletionSkipMissed</OverrunPolicy>
		<!-- 其他可选：SkipNextIfOverrun / AlignToWallClock / Throw -->
	</Timer>

	<!-- 液压是否参与：开关按液压编号整体控制（1 控 1~6；2 控 7~12） -->
	<Hydraulics>
		<Hydraulic>
			<Id>1</Id>
			<!-- <Enabled>true</Enabled> -->
			<Enabled>false</Enabled>
			<Mode>Either</Mode>
			<!-- ByPressure / ByDuration / Either -->
			<SetPercent>30</SetPercent>
			<!-- AO 百分比 -->
			<PressureThresholdBar>20.0</PressureThresholdBar>
			<DurationMs>800</DurationMs>
			<!-- 模式含时长时使用 -->
			<HoldAfterReachedMs>0</HoldAfterReachedMs>
			<!-- 达阈后再保持多久再泄压 -->
			<PressureDoId>1</PressureDoId>
			<!-- 对应 DOConfig/Pressure/Record/编号 -->
		</Hydraulic>
		<Hydraulic>
			<Id>2</Id>
			<!-- <Enabled>true</Enabled> -->
			<Enabled>false</Enabled>
			<Mode>ByPressure</Mode>
			<SetPercent>28</SetPercent>
			<PressureThresholdBar>18.0</PressureThresholdBar>
			<DurationMs>0</DurationMs>
			<HoldAfterReachedMs>200</HoldAfterReachedMs>
			<PressureDoId>2</PressureDoId>
		</Hydraulic>
	</Hydraulics>

	<!-- EPB 电流阈值（正/反），用于“到达即换向/关闭” -->
	<EpbCurrentLimits>
		<Record>
			<Channel>1</Channel>
			<ForwardA>3</ForwardA>
			<ReverseA>2</ReverseA>
		</Record>
		<Record>
			<Channel>2</Channel>
			<ForwardA>9.0</ForwardA>
			<ReverseA>6.0</ReverseA>
		</Record>
		<Record>
			<Channel>3</Channel>
			<ForwardA>9.0</ForwardA>
			<ReverseA>6.0</ReverseA>
		</Record>
		<Record>
			<Channel>4</Channel>
			<ForwardA>9.0</ForwardA>
			<ReverseA>6.0</ReverseA>
		</Record>
		<Record>
			<Channel>5</Channel>
			<ForwardA>9.0</ForwardA>
			<ReverseA>6.0</ReverseA>
		</Record>
		<Record>
			<Channel>6</Channel>
			<ForwardA>9.0</ForwardA>
			<ReverseA>6.0</ReverseA>
		</Record>
		<Record>
			<Channel>7</Channel>
			<ForwardA>9.0</ForwardA>
			<ReverseA>6.0</ReverseA>
		</Record>
		<Record>
			<Channel>8</Channel>
			<ForwardA>9.0</ForwardA>
			<ReverseA>6.0</ReverseA>
		</Record>
		<Record>
			<Channel>9</Channel>
			<ForwardA>9.0</ForwardA>
			<ReverseA>6.0</ReverseA>
		</Record>
		<Record>
			<Channel>10</Channel>
			<ForwardA>9.0</ForwardA>
			<ReverseA>6.0</ReverseA>
		</Record>
		<Record>
			<Channel>11</Channel>
			<ForwardA>9.0</ForwardA>
			<ReverseA>6.0</ReverseA>
		</Record>
		<Record>
			<Channel>12</Channel>
			<ForwardA>9.0</ForwardA>
			<ReverseA>6.0</ReverseA>
		</Record>
		<!-- ... 直到 12 -->
	</EpbCurrentLimits>

	<!-- 同组电控起始错峰，仅针对“电控”步骤；不同组可同时起 -->
	<ElectricalGroups>
		<Group>
			<Id>1</Id>
			<StaggerMs>800</StaggerMs>
			<Members>1,2,3</Members>
			<!-- 供电1->3 的一个示意，实际按现场配置 -->
		</Group>
		<Group>
			<Id>2</Id>
			<StaggerMs>800</StaggerMs>
			<Members>4,5,6</Members>
		</Group>
		<Group>
			<Id>3</Id>
			<StaggerMs>800</StaggerMs>
			<Members>7,8,9</Members>
		</Group>
		<Group>
			<Id>4</Id>
			<StaggerMs>800</StaggerMs>
			<Members>10,11,12</Members>
		</Group>
	</ElectricalGroups>
</TestConfig>